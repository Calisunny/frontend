{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Axios from\"axios\";import\"./App.css\";import Form from\"./Form\";import Topbar from\"./Topbar\";import\"./DisplayTeacher.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.textChange=function(e){_this.setState({display:e.target.value},function(){_this.getData();});};_this.enter=function(e){console.log(e);_this.setState({enter:true,chosen:e.target.id});};_this.back=function(){window.location.reload();};_this.makeVisible=function(e){var element=document.getElementById(\"Form\");element.classList.add(\"visibleForm\");element.classList.remove(\"hiddenForm\");};_this.state={show:[],display:\"\",enter:false,chosen:\"\"};_this.getData=_this.getData.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var name,dbdata,getName,getData,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:getName=function _getName(str){return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"https://schedule-calender.herokuapp.com/search\",{params:{name:str}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var i,profiledata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<response.data.length)){_context.next=9;break;}_context.next=4;return getData(response.data[i].name);case 4:profiledata=_context.sent;dbdata.push(profiledata);case 6:i++;_context.next=1;break;case 9:resolve(dbdata);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}());};name=this.state.display;dbdata=[];getData=function getData(useName){return new Promise(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve){var profiledata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:profiledata=[];profiledata.push(useName);_context3.next=4;return Axios.get(\"https://schedule-calender.herokuapp.com/profile\",{params:{name:useName}}).then(function(res){var data=res.data;for(var i=0;i<data.length;i++){profiledata.push(data[i]);}resolve(profiledata);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};_context4.next=6;return getName(name);case 6:data=_context4.sent;this.setState({show:data});case 8:case\"end\":return _context4.stop();}}},_callee4,this);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"render\",value:function render(){var _this2=this;var curr=this.state;var names=[];for(var i=0;i<curr.show.length;i++){names.push(curr.show[i].shift());}var k=0;if(curr.enter){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Topbar,{textChange:this.textChange,back:function back(){return _this2.back();},enter:curr.enter,str:curr.chosen})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Topbar,{textChange:this.textChange,enter:curr.enter}),/*#__PURE__*/_jsx(\"div\",{className:\"teacherParent\",children:curr.show.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"teacherContainer\",onClick:function onClick(e){return _this2.enter(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"bigText\",children:/*#__PURE__*/_jsx(\"h2\",{id:names[k],children:names[k++]})},index),data.map(function(obj,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"data\",id:names[k-1],children:[/*#__PURE__*/_jsx(\"div\",{className:\"date\",id:names[k-1],children:obj.date.substring(5,10)}),/*#__PURE__*/_jsxs(\"div\",{className:\"range\",id:names[k-1],children:[obj.starttime.substring(0,5),\" -\",obj.endtime.substring(0,5)]}),/*#__PURE__*/_jsx(\"div\",{className:\"task\",id:names[k-1],children:obj.task})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"needPading\"})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(Form,{str:curr.display}),/*#__PURE__*/_jsxs(\"button\",{className:\"createInside\",onClick:function onClick(e){return _this2.makeVisible(e);},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"add\",src:\"https://www.gstatic.com/images/icons/material/colored_icons/1x/create_32dp.png\"}),/*#__PURE__*/_jsx(\"p\",{children:\"CREATE\"})]})]})]});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/darkp/pepHackathon/pephackathon/src/App.js"],"names":["React","Component","Axios","Form","Topbar","App","props","textChange","e","setState","display","target","value","getData","enter","console","log","chosen","id","back","window","location","reload","makeVisible","element","document","getElementById","classList","add","remove","state","show","bind","getName","str","Promise","resolve","get","params","name","then","response","i","data","length","profiledata","dbdata","push","useName","res","curr","names","shift","k","map","index","obj","date","substring","starttime","endtime","task"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport \"./App.css\";\nimport Form from \"./Form\";\nimport Topbar from \"./Topbar\";\nimport \"./DisplayTeacher.css\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: [],\n            display: \"\",\n            enter: false,\n            chosen: \"\",\n        };\n        this.getData = this.getData.bind(this);\n    }\n    textChange = (e) => {\n        this.setState({ display: e.target.value }, () => {\n            this.getData();\n        });\n    };\n    enter = (e) => {\n        console.log(e);\n        this.setState({ enter: true, chosen: e.target.id });\n    };\n    back = () => {\n        window.location.reload();\n    };\n    makeVisible = (e) => {\n        let element = document.getElementById(\"Form\");\n        element.classList.add(\"visibleForm\");\n        element.classList.remove(\"hiddenForm\");\n    };\n    async getData() {\n        let name = this.state.display;\n        let dbdata = [];\n        function getName(str) {\n            return new Promise(async (resolve) => {\n                await Axios.get(\n                    \"https://schedule-calender.herokuapp.com/search\",\n                    {\n                        params: { name: str },\n                    }\n                ).then(async (response) => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        let profiledata = await getData(response.data[i].name);\n                        dbdata.push(profiledata);\n                    }\n                    resolve(dbdata);\n                });\n            });\n        }\n        const getData = (useName) => {\n            return new Promise(async (resolve) => {\n                let profiledata = [];\n                profiledata.push(useName);\n                await Axios.get(\n                    \"https://schedule-calender.herokuapp.com/profile\",\n                    {\n                        params: { name: useName },\n                    }\n                ).then((res) => {\n                    const data = res.data;\n                    for (let i = 0; i < data.length; i++) {\n                        profiledata.push(data[i]);\n                    }\n                    resolve(profiledata);\n                });\n            });\n        };\n        let data = await getName(name);\n        this.setState({ show: data });\n    }\n    render() {\n        let curr = this.state;\n        let names = [];\n        for (let i = 0; i < curr.show.length; i++)\n            names.push(curr.show[i].shift());\n        let k = 0;\n        if (curr.enter) {\n            return (\n                <div>\n                    <Topbar\n                        textChange={this.textChange}\n                        back={() => this.back()}\n                        enter={curr.enter}\n                        str={curr.chosen}\n                    />\n                </div>\n            );\n        }\n        return (\n            <div>\n                <Topbar textChange={this.textChange} enter={curr.enter} />\n                <div className=\"teacherParent\">\n                    {curr.show.map((data, index) => (\n                        <div\n                            className=\"teacherContainer\"\n                            key={index}\n                            onClick={(e) => this.enter(e)}\n                        >\n                            <div className=\"bigText\" key={index}>\n                                <h2 id={names[k]}>{names[k++]}</h2>\n                            </div>\n                            {data.map((obj, index) => (\n                                <div\n                                    className=\"data\"\n                                    key={index}\n                                    id={names[k - 1]}\n                                >\n                                    <div className=\"date\" id={names[k - 1]}>\n                                        {obj.date.substring(5, 10)}\n                                    </div>\n                                    <div className=\"range\" id={names[k - 1]}>\n                                        {obj.starttime.substring(0, 5)} -\n                                        {obj.endtime.substring(0, 5)}\n                                    </div>\n                                    <div className=\"task\" id={names[k - 1]}>\n                                        {obj.task}\n                                    </div>\n                                </div>\n                            ))}\n                            <div className=\"needPading\"></div>\n                        </div>\n                    ))}\n                </div>\n                <div className=\"create\">\n                    <Form str={curr.display} />\n                    <button\n                        className=\"createInside\"\n                        onClick={(e) => this.makeVisible(e)}\n                    >\n                        <img\n                            alt=\"add\"\n                            src=\"https://www.gstatic.com/images/icons/material/colored_icons/1x/create_32dp.png\"\n                        />\n                        <p>CREATE</p>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.getData();\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}