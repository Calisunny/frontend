{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Axios from\"axios\";import\"./App.css\";import Form from\"./Form\";import Topbar from\"./Topbar\";import\"./DisplayTeacher.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.textChange=function(e){_this.setState({display:e.target.value},function(){_this.getData();});};_this.enter=function(e){_this.setState({enter:true,chosen:e.target.id});};_this.back=function(e){window.location.reload();};_this.makeVisible=function(e){var element=document.getElementById(\"Form\");element.classList.add(\"visibleForm\");element.classList.remove(\"hiddenForm\");};_this.state={show:[],display:\"\",enter:false,chosen:\"\"};_this.getData=_this.getData.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var name,dbdata,getName,getData,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:getName=function _getName(str){return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"http://localhost:3001/search\",{params:{name:str}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var i,profiledata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<response.data.length)){_context.next=9;break;}_context.next=4;return getData(response.data[i].name,str);case 4:profiledata=_context.sent;dbdata.push(profiledata);case 6:i++;_context.next=1;break;case 9:resolve(dbdata);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}());};name=this.state.display;dbdata=[];getData=function getData(useName,str){return new Promise(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve){var profiledata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:profiledata=[];profiledata.push(useName);_context3.next=4;return Axios.get(\"http://localhost:3001/profile\",{params:{name:useName}}).then(function(res){var data=res.data;//JSON\n//JSON\nfor(var i=0;i<data.length;i++){var date=data[i].date.substring(5,10);profiledata.push(date);profiledata.push(data[i].starttime.substring(0,5));profiledata.push(data[i].endtime.substring(0,5));profiledata.push(data[i].task);}resolve(profiledata);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};_context4.next=6;return getName(name);case 6:data=_context4.sent;console.log(data);this.setState({show:data});case 9:case\"end\":return _context4.stop();}}},_callee4,this);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"render\",value:function render(){var _this2=this;var curr=this.state;var names=[];for(var i=0;i<curr.show.length;i++){names.push(curr.show[i].shift());}var k=0;var arr=[1];console.log(names);if(curr.enter){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Topbar,{textChange:this.textChange,back:function back(){return _this2.back();},enter:curr.enter,str:curr.chosen})});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Topbar,{textChange:this.textChange,enter:curr.enter}),/*#__PURE__*/_jsx(\"div\",{className:\"teacherParent\",children:curr.show.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"teacherContainer\",onClick:function onClick(e){return _this2.enter(e);},children:[/*#__PURE__*/_jsx(\"div\",{className:\"teacherName\",children:/*#__PURE__*/_jsx(\"h2\",{id:names[k],children:names[k++]})},index),arr.map(function(val){var j=0;for(var _i=0;_i<data.length;_i+=4){return/*#__PURE__*/_jsxs(\"div\",{className:\"teacherData\",children:[data[_i]//date\n,/*#__PURE__*/_jsx(\"br\",{}),data[_i+1]//start\n,\"-\",data[_i+2]//end\n,/*#__PURE__*/_jsx(\"br\",{}),data[_i+3]//task\n,/*#__PURE__*/_jsx(\"br\",{})]},j++);}}),/*#__PURE__*/_jsx(\"div\",{className:\"needPading\"})]},index);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(Form,{str:curr.display}),/*#__PURE__*/_jsxs(\"button\",{className:\"createInside\",onClick:function onClick(e){return _this2.makeVisible(e);},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"add\",src:\"https://www.gstatic.com/images/icons/material/colored_icons/1x/create_32dp.png\"}),/*#__PURE__*/_jsx(\"p\",{children:\"CREATE\"})]})]})]});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/darkp/pepHackathon/pephackathon/src/App.js"],"names":["React","Component","Axios","Form","Topbar","App","props","textChange","e","setState","display","target","value","getData","enter","chosen","id","back","window","location","reload","makeVisible","element","document","getElementById","classList","add","remove","state","show","bind","getName","str","Promise","resolve","get","params","name","then","response","i","data","length","profiledata","dbdata","push","useName","res","date","substring","starttime","endtime","task","console","log","curr","names","shift","k","arr","map","index","val","j"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport \"./App.css\";\nimport Form from \"./Form\";\nimport Topbar from \"./Topbar\";\nimport \"./DisplayTeacher.css\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: [],\n            display: \"\",\n            enter: false,\n            chosen: \"\",\n        };\n        this.getData = this.getData.bind(this);\n    }\n    textChange = (e) => {\n        this.setState({ display: e.target.value }, () => {\n            this.getData();\n        });\n    };\n    enter = (e) => {\n        this.setState({ enter: true, chosen: e.target.id });\n    };\n    back = (e) => {\n        window.location.reload();\n    };\n    makeVisible = (e) => {\n        var element = document.getElementById(\"Form\");\n        element.classList.add(\"visibleForm\");\n        element.classList.remove(\"hiddenForm\");\n    };\n    async getData() {\n        let name = this.state.display;\n        let dbdata = [];\n        function getName(str) {\n            return new Promise(async (resolve) => {\n                await Axios.get(\"http://localhost:3001/search\", {\n                    params: { name: str },\n                }).then(async (response) => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        let profiledata = await getData(\n                            response.data[i].name,\n                            str\n                        );\n                        dbdata.push(profiledata);\n                    }\n                    resolve(dbdata);\n                });\n            });\n        }\n        const getData = (useName, str) => {\n            return new Promise(async (resolve) => {\n                let profiledata = [];\n                profiledata.push(useName);\n                await Axios.get(\"http://localhost:3001/profile\", {\n                    params: { name: useName },\n                }).then((res) => {\n                    const data = res.data; //JSON\n                    for (let i = 0; i < data.length; i++) {\n                        const date = data[i].date.substring(5, 10);\n                        profiledata.push(date);\n                        profiledata.push(data[i].starttime.substring(0, 5));\n                        profiledata.push(data[i].endtime.substring(0, 5));\n                        profiledata.push(data[i].task);\n                    }\n                    resolve(profiledata);\n                });\n            });\n        };\n        let data = await getName(name);\n        console.log(data);\n        this.setState({ show: data });\n    }\n    render() {\n        let curr = this.state;\n        let names = [];\n        for (let i = 0; i < curr.show.length; i++)\n            names.push(curr.show[i].shift());\n        let k = 0;\n        let arr = [1];\n        console.log(names);\n        if (curr.enter) {\n            return (\n                <div>\n                    <Topbar\n                        textChange={this.textChange}\n                        back={() => this.back()}\n                        enter={curr.enter}\n                        str={curr.chosen}\n                    />\n                </div>\n            );\n        }\n        return (\n            <div>\n                <Topbar textChange={this.textChange} enter={curr.enter} />\n                <div className=\"teacherParent\">\n                    {curr.show.map((data, index) => (\n                        <div\n                            className=\"teacherContainer\"\n                            key={index}\n                            onClick={(e) => this.enter(e)}\n                        >\n                            <div className=\"teacherName\" key={index}>\n                                <h2 id={names[k]}>{names[k++]}</h2>\n                            </div>\n                            {arr.map((val) => {\n                                let j = 0;\n                                for (let i = 0; i < data.length; i += 4) {\n                                    return (\n                                        <div className=\"teacherData\" key={j++}>\n                                            {\n                                                data[i] //date\n                                            }\n                                            <br />\n                                            {\n                                                data[i + 1] //start\n                                            }\n                                            -\n                                            {\n                                                data[i + 2] //end\n                                            }\n                                            <br />\n                                            {\n                                                data[i + 3] //task\n                                            }\n                                            <br />\n                                        </div>\n                                    );\n                                }\n                            }) }\n                            <div className=\"needPading\"></div>\n                        </div>\n                    ))}\n                </div>\n                <div className=\"create\">\n                    <Form str={curr.display} />\n                    <button\n                        className=\"createInside\"\n                        onClick={(e) => this.makeVisible(e)}\n                    >\n                        <img\n                            alt=\"add\"\n                            src=\"https://www.gstatic.com/images/icons/material/colored_icons/1x/create_32dp.png\"\n                        />\n                        <p>CREATE</p>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.getData();\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}