{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Axios from\"axios\";import\"./App.css\";import Form from\"./Form\";import Topbar from\"./Topbar\";import\"./DisplayTeacher.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.textChange=function(e){_this.setState({display:e.target.value},function(){_this.getData();});};_this.back=function(){window.location.reload();};_this.makeVisible=function(e){var element=document.getElementById(\"Form\");element.classList.add(\"visibleForm\");element.classList.remove(\"hiddenForm\");};_this.enterTeacher=function(e){_this.setState({enter:true,chosen:e.target.id});};_this.state={show:[],display:\"\",enter:false,chosen:\"\"};_this.getData=_this.getData.bind(_assertThisInitialized(_this));return _this;}_createClass(App,[{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var name,dbdata,getName,personData,data;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:getName=function _getName(str){return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return Axios.get(\"https://schedule-calender.herokuapp.com/search\",{params:{name:str}},{headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var i,profiledata;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:i=0;case 1:if(!(i<response.data.length)){_context.next=9;break;}_context.next=4;return personData(response.data[i].name);case 4:profiledata=_context.sent;dbdata.push(profiledata);case 6:i++;_context.next=1;break;case 9:resolve(dbdata);case 10:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}());};name=this.state.display;dbdata=[];personData=function personData(useName){return new Promise(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve){var profiledata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:profiledata=[];profiledata.push(useName);_context3.next=4;return Axios.get(\"https://schedule-calender.herokuapp.com/profile\",{params:{name:useName}}).then(function(res){var data=res.data;for(var i=0;i<data.length;i++){profiledata.push(data[i]);}resolve(profiledata);});case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}());};_context4.next=6;return getName(name);case 6:data=_context4.sent;this.setState({show:data});case 8:case\"end\":return _context4.stop();}}},_callee4,this);}));function getData(){return _getData.apply(this,arguments);}return getData;}()// eventListener=()=>{\n//     document.querySelector(\"body\").addEventListener(\"click\",(e)=>{\n//         e.preventDefault();\n//         const menu= document.getElementById(\"menu\");\n//         if(e.target.id === \"parent\"||e.target.id === \"head\"||e.target.id === \"search\"){\n//             menu.classList.add(\"hidemenu\");\n//         }else{\n//             menu.style.left = e.clientX+\"px\";\n//             menu.style.top= e.clientY+\"px\";\n//             menu.classList.remove(\"hidemenu\");\n//         }\n//     }); \n// }\n},{key:\"render\",value:function render(){var _this2=this;var curr=this.state;var names=[];for(var i=0;i<curr.show.length;i++){names.push(curr.show[i].shift());}var k=0;if(curr.enter){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Topbar,{textChange:this.textChange,back:function back(){return _this2.back();},enter:curr.enter,str:curr.chosen})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"body\",children:[/*#__PURE__*/_jsx(Topbar,{textChange:this.textChange,enter:curr.enter}),/*#__PURE__*/_jsx(\"div\",{className:\"teacherParent\",id:\"parent\",children:curr.show.map(function(data,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"teacherContainer\",id:index+\"tc\",onClick:_this2.enterTeacher,children:[/*#__PURE__*/_jsx(\"div\",{className:\"bigText\",children:/*#__PURE__*/_jsx(\"h2\",{id:names[k],children:names[k++]})},index),data.map(function(obj,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"data\",id:names[k-1],children:[/*#__PURE__*/_jsx(\"div\",{className:\"date\",id:names[k-1],children:obj.date.substring(5,10)}),/*#__PURE__*/_jsxs(\"div\",{className:\"range\",id:names[k-1],children:[obj.starttime.substring(0,5),\" -\",obj.endtime.substring(0,5)]}),/*#__PURE__*/_jsx(\"div\",{className:\"task\",id:names[k-1],children:obj.task})]},index);}),/*#__PURE__*/_jsx(\"div\",{className:\"needPading\"})]},index+\"tc\");})}),/*#__PURE__*/_jsxs(\"div\",{className:\"create\",children:[/*#__PURE__*/_jsx(Form,{str:curr.display}),/*#__PURE__*/_jsxs(\"button\",{className:\"createInside\",onClick:function onClick(e){return _this2.makeVisible(e);},children:[/*#__PURE__*/_jsx(\"img\",{alt:\"add\",src:\"https://www.gstatic.com/images/icons/material/colored_icons/1x/create_32dp.png\"}),/*#__PURE__*/_jsx(\"p\",{children:\"CREATE\"})]})]})]});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getData();// this.eventListener();\n}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/darkp/pepHackathon/pephackathon/src/App.js"],"names":["React","Component","Axios","Form","Topbar","App","props","textChange","e","setState","display","target","value","getData","back","window","location","reload","makeVisible","element","document","getElementById","classList","add","remove","enterTeacher","enter","chosen","id","state","show","bind","getName","str","Promise","resolve","get","params","name","headers","then","response","i","data","length","personData","profiledata","dbdata","push","useName","res","curr","names","shift","k","map","index","obj","date","substring","starttime","endtime","task"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\nimport \"./App.css\";\nimport Form from \"./Form\";\nimport Topbar from \"./Topbar\";\nimport \"./DisplayTeacher.css\";\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            show: [],\n            display: \"\",\n            enter: false,\n            chosen: \"\",\n        };\n        this.getData = this.getData.bind(this);\n    }\n    textChange = (e) => {\n        this.setState({ display: e.target.value }, () => {\n            this.getData();\n        });\n    };\n    back = () => {\n        window.location.reload();\n    };\n    makeVisible = (e) => {\n        let element = document.getElementById(\"Form\");\n        element.classList.add(\"visibleForm\");\n        element.classList.remove(\"hiddenForm\");\n    };\n    enterTeacher = (e) => {\n        this.setState({ enter: true, chosen: e.target.id });\n    };\n    async getData() {\n        let name = this.state.display;\n        let dbdata = [];\n        function getName(str) {\n            return new Promise(async (resolve) => {\n                await Axios.get(\n                    \"https://schedule-calender.herokuapp.com/search\",\n                    {\n                        params: { name: str },\n                    }, {\n                        headers: { \n                        \"Content-Type\": \"application/x-www-form-urlencoded\"\n                      }}\n                ).then(async (response) => {\n                    for (let i = 0; i < response.data.length; i++) {\n                        let profiledata = await personData(response.data[i].name);\n                        dbdata.push(profiledata);\n                    }\n                    resolve(dbdata);\n                });\n            });\n        }\n        const personData = (useName) => {\n            return new Promise(async (resolve) => {\n                let profiledata = [];\n                profiledata.push(useName);\n                await Axios.get(\n                    \"https://schedule-calender.herokuapp.com/profile\",\n                    {\n                        params: { name: useName },\n                    }\n                ).then((res) => {\n                    const data = res.data;\n                    for (let i = 0; i < data.length; i++) {\n                        profiledata.push(data[i]);\n                    }\n                    resolve(profiledata);\n                });\n            });\n        };\n        let data = await getName(name);\n        this.setState({ show: data });\n    }\n    // eventListener=()=>{\n    //     document.querySelector(\"body\").addEventListener(\"click\",(e)=>{\n    //         e.preventDefault();\n    //         const menu= document.getElementById(\"menu\");\n    //         if(e.target.id === \"parent\"||e.target.id === \"head\"||e.target.id === \"search\"){\n    //             menu.classList.add(\"hidemenu\");\n    //         }else{\n    //             menu.style.left = e.clientX+\"px\";\n    //             menu.style.top= e.clientY+\"px\";\n    //             menu.classList.remove(\"hidemenu\");\n    //         }\n    //     }); \n    // }\n    render() {\n        let curr = this.state;\n        let names = [];\n        for (let i = 0; i < curr.show.length; i++)\n            names.push(curr.show[i].shift());\n        let k = 0;\n        if (curr.enter) {\n            return (\n                <div>\n                    <Topbar\n                        textChange={this.textChange}\n                        back={() => this.back()}\n                        enter={curr.enter}\n                        str={curr.chosen}\n                    />\n                </div>\n            );\n        }\n        return (\n            <div className= \"body\">\n                <Topbar textChange={this.textChange} enter={curr.enter} />\n                <div className=\"teacherParent\" id=\"parent\">\n                    {curr.show.map((data, index) => (\n                        <div\n                            className=\"teacherContainer\"\n                            key={index+\"tc\"} id={index+\"tc\"}\n                            onClick={this.enterTeacher}\n                        >\n                            <div className=\"bigText\" key={index}>\n                                <h2 id={names[k]}>{names[k++]}</h2>\n                            </div>\n                            {data.map((obj, index) => (\n                                <div\n                                    className=\"data\"\n                                    key={index}\n                                    id={names[k - 1]}\n                                >\n                                    <div className=\"date\" id={names[k - 1]}>\n                                        {obj.date.substring(5, 10)}\n                                    </div>\n                                    <div className=\"range\" id={names[k - 1]}>\n                                        {obj.starttime.substring(0, 5)} -\n                                        {obj.endtime.substring(0, 5)}\n                                    </div>\n                                    <div className=\"task\" id={names[k - 1]}>\n                                        {obj.task}\n                                    </div>\n                                </div>\n                            ))}\n                            <div className=\"needPading\"></div>\n                        </div>\n                    ))}\n                </div>\n                <div className=\"create\">\n                    <Form str={curr.display} />\n                    <button\n                        className=\"createInside\"\n                        onClick={(e) => this.makeVisible(e)}\n                    >\n                        <img\n                            alt=\"add\"\n                            src=\"https://www.gstatic.com/images/icons/material/colored_icons/1x/create_32dp.png\"\n                        />\n                        <p>CREATE</p>\n                    </button>\n                </div>\n            </div>\n        );\n    }\n    componentDidMount() {\n        this.getData();\n        // this.eventListener();\n    }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}