{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/darkp/pepHackathon/pephackathon/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Axios from\"axios\";import\"./App.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Week=/*#__PURE__*/function(_Component){_inherits(Week,_Component);var _super=_createSuper(Week);function Week(props){var _this;_classCallCheck(this,Week);_this=_super.call(this,props);_this.state={weekDays:[\"SUN\",\"MON\",\"TUE\",\"WED\",\"THURS\",\"FRI\",\"SAT\"],show:[],startDay:-1,date:0};return _this;}_createClass(Week,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(props){if(props.view!==\"Week\"||props.date+\"\"===\"\")return false;return true;}},{key:\"componentDidUpdate\",value:function componentDidUpdate(props){if(props.date===this.state.date)return;this.getData();}},{key:\"getData\",value:function(){var _getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var curr,name,weekStart,dbdata,weekInfo,i,daydata;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:weekInfo=function _weekInfo(str,day){return new Promise(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(resolve){var date;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(day<1||day>30){resolve([]);}day=day+\"\";date=\"2021-06-\"+(day.length===1?\"0\"+day:day);_context2.next=5;return Axios.get(\"https://schedule-calender.herokuapp.com/data\",{params:{name:str,date:date}}).then(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(response){var currday;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:currday=response.data;resolve(currday);case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x2){return _ref2.apply(this,arguments);};}());case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref.apply(this,arguments);};}());};curr=this.state;name=this.props.str;weekStart=curr.startDay+curr.date*7;dbdata=[];i=weekStart;case 6:if(!(i<weekStart+7)){_context3.next=14;break;}_context3.next=9;return weekInfo(name,i);case 9:daydata=_context3.sent;dbdata.push(daydata);case 11:i++;_context3.next=6;break;case 14:this.setState({show:dbdata});case 15:case\"end\":return _context3.stop();}}},_callee3,this);}));function getData(){return _getData.apply(this,arguments);}return getData;}()},{key:\"render\",value:function render(){var curr=this.state;var i=0;return/*#__PURE__*/_jsx(\"div\",{className:\"WeekParent\",children:curr.show.map(function(day,ind){return/*#__PURE__*/_jsxs(\"div\",{className:\"WeekDayParent\",children:[/*#__PURE__*/_jsx(\"div\",{className:i===0||i===6?\"Wday Wend\":\"Wday\",children:curr.weekDays[i++]},ind),/*#__PURE__*/_jsx(\"div\",{className:\"data data-week\",children:day.map(function(obj,index){return obj.task===undefined?/*#__PURE__*/_jsx(React.Fragment,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"dataContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"range\",children:[obj.starttime.substring(0,5),\" -\",obj.endtime.substring(0,5)]},index+\"r\"),/*#__PURE__*/_jsx(\"div\",{className:\"task\",children:obj.task},index+\"t\")]},index+\"\"+{ind:ind});})},ind+\"d\")]},ind);})});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getData();}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(props,state){if(props.date+\"\"===\"\")return{};return{date:props.date};}}]);return Week;}(Component);export default Week;","map":{"version":3,"sources":["C:/Users/darkp/pepHackathon/pephackathon/src/Week.js"],"names":["React","Component","Axios","Week","props","state","weekDays","show","startDay","date","view","getData","weekInfo","str","day","Promise","resolve","length","get","params","name","then","response","currday","data","curr","weekStart","dbdata","i","daydata","push","setState","map","ind","obj","index","task","undefined","starttime","substring","endtime"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Axios from \"axios\";\r\nimport \"./App.css\";\r\n\r\nclass Week extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            weekDays: [\"SUN\",\"MON\",\"TUE\",\"WED\",\"THURS\",\"FRI\",\"SAT\"],\r\n            show: [],\r\n            startDay: -1,\r\n            date: 0\r\n        }\r\n    }\r\n    static getDerivedStateFromProps(props,state){\r\n        if(props.date+\"\"===\"\") return ({});\r\n        return ({date : props.date});          \r\n    }\r\n    shouldComponentUpdate(props){\r\n        if(props.view !== \"Week\" || props.date+\"\"===\"\") return false;\r\n        return true;\r\n    }\r\n    componentDidUpdate(props){\r\n        if(props.date === this.state.date) return;\r\n        this.getData();\r\n    }\r\n    async getData() {\r\n        const curr= this.state;\r\n        const name = this.props.str;\r\n        const weekStart= curr.startDay + curr.date * 7;\r\n        let dbdata = [];\r\n        function weekInfo(str,day) {\r\n            return new Promise(async (resolve) => {\r\n                if(day < 1 || day > 30){\r\n                    resolve([]);\r\n                }\r\n                day= day+\"\";\r\n                let date= \"2021-06-\" + (day.length === 1 ? \"0\" + day : day);\r\n                await Axios.get(\"https://schedule-calender.herokuapp.com/data\", {\r\n                    params: {name : str, date : date},\r\n                }).then(async (response) => {\r\n                    let currday= response.data;\r\n                    resolve(currday);\r\n                });\r\n            });\r\n        }\r\n        for(let i=weekStart; i<weekStart+7; i++){\r\n            let daydata = await weekInfo(name,i);\r\n            dbdata.push(daydata);\r\n        }\r\n        this.setState({show : dbdata});\r\n    }\r\n    render() {\r\n        const curr= this.state;\r\n        let i=0;\r\n        return (\r\n            <div className=\"WeekParent\">\r\n                {\r\n                    curr.show.map((day,ind)=>(\r\n                    <div className=\"WeekDayParent\" key={ind}>\r\n                        <div key={ind} className={(i===0||i===6) ? \"Wday Wend\" : \"Wday\"}>\r\n                            {curr.weekDays[i++]}\r\n                        </div>\r\n                        \r\n                        <div className= \"data data-week\" key={ind+\"d\"}>\r\n                            {\r\n                                day.map((obj,index)=>(\r\n                                    obj.task===undefined ? (<React.Fragment/>) :\r\n                                (\r\n                                <div className=\"dataContainer\" key={index+\"\"+{ind}}>\r\n                                    <div className=\"range\" key={index+\"r\"}>\r\n                                        {obj.starttime.substring(0, 5)} -\r\n                                        {obj.endtime.substring(0, 5)}\r\n                                    </div>\r\n                                    <div className=\"task\" key={index+\"t\"}>\r\n                                        {obj.task}\r\n                                    </div>\r\n                                </div>\r\n                                )\r\n                                ))\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n    componentDidMount() {\r\n        this.getData();\r\n    }\r\n}\r\n\r\nexport default Week\r\n"]},"metadata":{},"sourceType":"module"}